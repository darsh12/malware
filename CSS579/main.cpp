// CSS579.cpp : This file contains the 'main' function. Program execution begins and ends there.
//

#include <iostream>
#include <Windows.h>
#include <stdio.h>

using namespace std;

//Depending on the call type you can use _stdcall or _cdecl
typedef int(_stdcall* Msg) (HWND, LPCSTR, LPCSTR, UINT);

int main()
{
    std::cout << "Hello World!\n";

	//Get handle to user32.dll
	HINSTANCE hDll = LoadLibrary(TEXT("User32.dll"));

	//Check if handle is valid
	if (hDll==NULL)
	{
		printf("Error getting handle");
	}
	//If valid then proceed to call function
	else {
		printf("Lib Loaded");
		Msg MsgBox = (Msg)GetProcAddress(hDll, "MessageBoxA");
		MsgBox(NULL, "Test", "test", 0);
	}

	//Release the library
	FreeLibrary(hDll);
	return 0;

}

